# Tiny Agent

> åŸºäº Flask + Bootstrap çš„è½»é‡çº§ AI åŠ©æ‰‹ç³»ç»Ÿ

[![Python](https://img.shields.io/badge/Python-3.10+-blue.svg)](https://www.python.org/downloads/)
[![Flask](https://img.shields.io/badge/Flask-3.0.0-green.svg)](https://flask.palletsprojects.com/)
[![License](https://img.shields.io/badge/License-MIT-yellow.svg)](LICENSE)

## ğŸ“‹ ç›®å½•

- [åŠŸèƒ½ç‰¹æ€§](#-åŠŸèƒ½ç‰¹æ€§)
- [é¡¹ç›®ç»“æ„](#-é¡¹ç›®ç»“æ„)
- [å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹)
- [Docker éƒ¨ç½²](#-docker-éƒ¨ç½²)
- [å¼€å‘æŒ‡å—](#-å¼€å‘æŒ‡å—)
- [æŠ€æœ¯æ ˆ](#-æŠ€æœ¯æ ˆ)
- [é…ç½®è¯´æ˜](#-é…ç½®è¯´æ˜)
- [é»˜è®¤è´¦å·](#-é»˜è®¤è´¦å·)

---

## ğŸ¯ åŠŸèƒ½ç‰¹æ€§

- âœ… **æ–‡ä»¶ç®¡ç†** - ä¸Šä¼ /ä¸‹è½½/åˆ—è¡¨ï¼Œæ”¯æŒå¤šç§æ ¼å¼ï¼ˆPDF, DOCX, TXT, CSV, XLSXï¼‰
- âœ… **ç”¨æˆ·è®¤è¯** - åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ï¼ˆç®¡ç†å‘˜/æ™®é€šç”¨æˆ·ï¼‰
- âœ… **å‘½ä»¤æ‰§è¡Œ** - 7ä¸ªé¢„å®šä¹‰å®‰å…¨å‘½ä»¤ï¼ˆä»…ç®¡ç†å‘˜ï¼‰
- âœ… **ç³»ç»Ÿç›‘æ§** - æ—¥å¿—æŸ¥çœ‹å’Œæµé‡ç»Ÿè®¡
- âš ï¸ **AI é›†æˆ** - é¢„ç•™æ¥å£ï¼Œæ”¯æŒ OpenAI/Claudeï¼ˆå¾…å®ç°ï¼‰
- âœ… **å“åº”å¼ UI** - Bootstrap 5.3ï¼Œç§»åŠ¨ç«¯å‹å¥½

---

## ğŸ“ é¡¹ç›®ç»“æ„

```text
tiny_agent/
â”œâ”€â”€ frontend/            # å‰ç«¯ä»£ç 
â”‚   â”œâ”€â”€ index.html       # ä¸»é¡µé¢ï¼ˆå«ä¸‰ä¸ªåŠŸèƒ½åŒºï¼‰
â”‚   â”œâ”€â”€ login.html       # ç™»å½•é¡µé¢
â”‚   â””â”€â”€ static/
â”‚       â”œâ”€â”€ css/
â”‚       â”‚   â””â”€â”€ custom.css   # è‡ªå®šä¹‰æ ·å¼
â”‚       â””â”€â”€ js/m/
â”‚           â”œâ”€â”€ auth.js      # è®¤è¯é€»è¾‘
â”‚           â”œâ”€â”€ file.js      # æ–‡ä»¶å¤„ç†
â”‚           â””â”€â”€ commands.js  # å‘½ä»¤æ‰§è¡Œ
â”œâ”€â”€ backend/             # åç«¯ä»£ç 
â”‚   â”œâ”€â”€ app.py           # Flaskä¸»åº”ç”¨
â”‚   â”œâ”€â”€ config.py        # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ database.py      # æ•°æ®åº“æ¨¡å‹
â”‚   â”œâ”€â”€ init_db.py       # æ•°æ®åº“åˆå§‹åŒ–
â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â”œâ”€â”€ auth.py      # è®¤è¯è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ files.py     # æ–‡ä»¶å¤„ç†è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ logs.py      # æ—¥å¿—è·¯ç”±
â”‚   â”‚   â””â”€â”€ commands.py  # å‘½ä»¤æ‰§è¡Œè·¯ç”±
â”‚   â””â”€â”€ utils/
â”‚       â”œâ”€â”€ ai_providers.py  # AIæä¾›è€…é›†æˆ
â”‚       â””â”€â”€ security.py      # å®‰å…¨å·¥å…·
â”œâ”€â”€ data/                # ğŸ“ æ•°æ®ç›®å½•ï¼ˆä¸æäº¤åˆ°gitï¼‰
â”‚   â”œâ”€â”€ app.db           # SQLiteæ•°æ®åº“
â”‚   â””â”€â”€ uploads/         # ä¸Šä¼ æ–‡ä»¶å­˜å‚¨
â”œâ”€â”€ logs/                # ğŸ“ æ—¥å¿—ç›®å½•ï¼ˆä¸æäº¤åˆ°gitï¼‰
â”‚   â””â”€â”€ system.log       # ç³»ç»Ÿæ—¥å¿—
â”œâ”€â”€ deploy/              # ğŸ³ Docker éƒ¨ç½²æ–‡ä»¶
â”‚   â”œâ”€â”€ Dockerfile
â”‚   â”œâ”€â”€ docker-compose.yml
â”‚   â””â”€â”€ *.sh             # éƒ¨ç½²è„šæœ¬
â”œâ”€â”€ .env                 # ç¯å¢ƒå˜é‡é…ç½®
â”œâ”€â”€ .gitignore           # Git å¿½ç•¥è§„åˆ™
â”œâ”€â”€ requirements.txt     # Python ä¾èµ–
â”œâ”€â”€ migrate_data.sh      # æ•°æ®è¿ç§»è„šæœ¬
â”œâ”€â”€ run.sh               # æœ¬åœ°å¯åŠ¨è„šæœ¬
â””â”€â”€ framework.md         # ğŸ“– è¯¦ç»†æ¶æ„æ–‡æ¡£
```

**ç›®å½•è¯´æ˜ï¼š**

| ç›®å½• | è¯´æ˜ | æäº¤åˆ° Git |
|------|------|-----------|
| `frontend/` | å‰ç«¯ä»£ç ï¼ˆHTML/CSS/JSï¼‰ | âœ… æ˜¯ |
| `backend/` | Flask åç«¯ä»£ç  | âœ… æ˜¯ |
| `deploy/` | Docker éƒ¨ç½²é…ç½®å’Œè„šæœ¬ | âœ… æ˜¯ |
| `data/` | æ•°æ®åº“å’Œä¸Šä¼ æ–‡ä»¶ | âŒ å¦ |
| `logs/` | åº”ç”¨è¿è¡Œæ—¥å¿— | âŒ å¦ |

**æ¶æ„ä¼˜åŠ¿ï¼š**
- âœ… ä»£ç å’Œæ•°æ®åˆ†ç¦»
- âœ… ä¾¿äºå¤‡ä»½å’Œéƒ¨ç½²
- âœ… Docker å‹å¥½
- âœ… å¤šç¯å¢ƒç®¡ç†æ¸…æ™°

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ–¹å¼ä¸€ï¼šæœ¬åœ°å¼€å‘ç¯å¢ƒ

#### 1. ç¯å¢ƒå‡†å¤‡

```bash
# å…‹éš†é¡¹ç›®ï¼ˆå¦‚æœéœ€è¦ï¼‰
git clone https://github.com/ljk1029/tiny_agent.git
cd tiny_agent

# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python3 -m venv venv

# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
source venv/bin/activate  # Windows: venv\Scripts\activate

# å‡çº§ pipï¼ˆæ¨èï¼‰
pip install --upgrade pip
```

#### 2. å®‰è£…ä¾èµ–

```bash
pip install -r requirements.txt
```

#### 3. åˆå§‹åŒ–æ•°æ®åº“

```bash
cd backend
python init_db.py
```

**ğŸ’¡ æç¤º**ï¼šåˆå§‹åŒ–åä¼šåˆ›å»ºé»˜è®¤ç®¡ç†å‘˜è´¦å·ï¼ˆadmin/admin_pw_123ï¼‰

#### 4. å¯åŠ¨åº”ç”¨

```bash
# æ–¹å¼ Aï¼šç›´æ¥è¿è¡Œ
python app.py

# æ–¹å¼ Bï¼šä½¿ç”¨å¯åŠ¨è„šæœ¬ï¼ˆæ¨èï¼‰
cd ..
./run.sh
```

#### 5. è®¿é—®åº”ç”¨

æµè§ˆå™¨æ‰“å¼€ï¼š**http://localhost:5000**

### æ–¹å¼äºŒï¼šä»æ—§ç‰ˆæœ¬å‡çº§

å¦‚æœä»æ—§ç‰ˆæœ¬å‡çº§ï¼Œæ•°æ®æ–‡ä»¶ä½ç½®å·²è°ƒæ•´ï¼ˆä» `backend/` ç§»è‡³æ ¹ç›®å½•ï¼‰ï¼š

```bash
# è‡ªåŠ¨è¿ç§»æ•°æ®åº“å’Œä¸Šä¼ æ–‡ä»¶
./migrate_data.sh
```

### å·¥å…·ï¼šæ•°æ®åº“ç®¡ç†

#### å‘½ä»¤è¡ŒæŸ¥çœ‹ï¼ˆæ¨èï¼‰

```bash
# ä½¿ç”¨å†…ç½®å·¥å…·æŸ¥çœ‹æ•°æ®åº“
cd backend
python view_db.py
```

**è¾“å‡ºç¤ºä¾‹ï¼š**
```
ç”¨æˆ·åˆ—è¡¨:
ID | ç”¨æˆ·å | è§’è‰²  | åˆ›å»ºæ—¶é—´
1  | admin  | admin | 2024-12-08 10:30:45
```

#### å›¾å½¢ç•Œé¢å·¥å…·ï¼ˆå¯é€‰ï¼‰

```bash
# å®‰è£… SQLite æµè§ˆå™¨
sudo apt install sqlitebrowser        # Ubuntu/Debian
# æˆ–
brew install --cask db-browser-for-sqlite  # macOS

# æ‰“å¼€æ•°æ®åº“
sqlitebrowser data/app.db
```

#### 1. æ„å»º Docker é•œåƒ

```bash
cd deploy
./build.sh
```

#### 2. å¯åŠ¨æœåŠ¡

```bash
./start.sh
```

**é€‰æ‹©éƒ¨ç½²æ¨¡å¼ï¼š**
- **æ¨¡å¼ 1**: ç”Ÿäº§ç¯å¢ƒï¼ˆGunicorn + Nginxï¼‰- æ¨è
- **æ¨¡å¼ 2**: ç”Ÿäº§ç¯å¢ƒï¼ˆä»… Gunicornï¼‰
- **æ¨¡å¼ 3**: å¼€å‘ç¯å¢ƒï¼ˆFlask Debug + çƒ­é‡è½½ï¼‰

#### 3. è®¿é—®åº”ç”¨

- **ä¸»åº”ç”¨**: http://localhost:5000
- **Nginx ä»£ç†**: http://localhost ï¼ˆå¦‚é€‰æ‹©æ¨¡å¼ 1ï¼‰

### è¿ç»´å‘½ä»¤

| å‘½ä»¤ | åŠŸèƒ½ | è¯´æ˜ |
|------|------|------|
| `./status.sh` | æ£€æŸ¥çŠ¶æ€ | 7æ­¥å¥åº·æ£€æŸ¥ |
| `./logs.sh` | æŸ¥çœ‹æ—¥å¿— | å®æ—¶æ—¥å¿—æŸ¥çœ‹ |
| `./restart.sh` | é‡å¯æœåŠ¡ | å¿«é€Ÿé‡å¯ |
| `./stop.sh` | åœæ­¢æœåŠ¡ | å®‰å…¨åœæ­¢ |
| `./backup.sh` | å¤‡ä»½æ•°æ® | è‡ªåŠ¨å¤‡ä»½æ•°æ®å’Œæ—¥å¿— |
| `./restore.sh` | æ¢å¤æ•°æ® | ä»å¤‡ä»½æ¢å¤ |
| `./cleanup.sh` | æ¸…ç†èµ„æº | æ¸…ç†å®¹å™¨/é•œåƒ |

### éƒ¨ç½²æ–‡ä»¶ç»“æ„

```
deploy/
â”œâ”€â”€ ğŸ“„ é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ Dockerfile              # Docker é•œåƒå®šä¹‰
â”‚   â”œâ”€â”€ docker-compose.yml      # ç”Ÿäº§ç¯å¢ƒé…ç½®
â”‚   â”œâ”€â”€ docker-compose.dev.yml  # å¼€å‘ç¯å¢ƒé…ç½®
â”‚   â””â”€â”€ nginx.conf              # Nginx åå‘ä»£ç†é…ç½®
â”œâ”€â”€ ğŸ”§ æ“ä½œè„šæœ¬
â”‚   â”œâ”€â”€ build.sh                # æ„å»ºé•œåƒ
â”‚   â”œâ”€â”€ start.sh                # å¯åŠ¨æœåŠ¡
â”‚   â”œâ”€â”€ stop.sh                 # åœæ­¢æœåŠ¡
â”‚   â”œâ”€â”€ restart.sh              # é‡å¯æœåŠ¡
â”‚   â”œâ”€â”€ status.sh               # çŠ¶æ€æ£€æŸ¥
â”‚   â”œâ”€â”€ logs.sh                 # æŸ¥çœ‹æ—¥å¿—
â”‚   â”œâ”€â”€ backup.sh               # å¤‡ä»½æ•°æ®
â”‚   â”œâ”€â”€ restore.sh              # æ¢å¤æ•°æ®
â”‚   â”œâ”€â”€ cleanup.sh              # æ¸…ç†èµ„æº
â”‚   â””â”€â”€ install-compose.sh      # å®‰è£… Docker Compose
â””â”€â”€ ğŸ“š æ–‡æ¡£
    â”œâ”€â”€ README.md               # å®Œæ•´éƒ¨ç½²æ–‡æ¡£
    â”œâ”€â”€ QUICKSTART.md           # 5åˆ†é’Ÿå¿«é€Ÿå¼€å§‹
    â”œâ”€â”€ CHECKLIST.md            # éƒ¨ç½²æ£€æŸ¥æ¸…å•
    â”œâ”€â”€ ARCHITECTURE.md         # æ¶æ„è®¾è®¡å›¾
    â””â”€â”€ INDEX.md                # æ–‡ä»¶ç´¢å¼•
```

**ğŸ“– ç›¸å…³æ–‡æ¡£ï¼š**
- [å¿«é€Ÿå¼€å§‹](deploy/QUICKSTART.md) - 5åˆ†é’Ÿå¿«é€Ÿéƒ¨ç½²æŒ‡å—
- [å®Œæ•´æ–‡æ¡£](deploy/README.md) - è¯¦ç»†é…ç½®å’Œæ•…éšœæ’æŸ¥
- [æ¶æ„è®¾è®¡](deploy/ARCHITECTURE.md) - ç³»ç»Ÿæ¶æ„å›¾å’Œæµç¨‹å›¾
- [æ£€æŸ¥æ¸…å•](deploy/CHECKLIST.md) - ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²æ¸…å•

---

## ğŸ’» å¼€å‘æŒ‡å—

### æŠ€æœ¯æ ˆ

**å‰ç«¯æŠ€æœ¯ï¼š**
- Bootstrap 5.3.0 - UI æ¡†æ¶
- Vanilla JavaScript - æ— æ¡†æ¶ä¾èµ–
- SPA æ¶æ„ - å•é¡µåº”ç”¨

**åç«¯æŠ€æœ¯ï¼š**
- Flask 3.0.0 - Web æ¡†æ¶
- Flask-Login 0.6.3 - ç”¨æˆ·è®¤è¯
- Flask-SQLAlchemy 3.1.1 - ORM
- Werkzeug 3.0.1 - å¯†ç åŠ å¯†
- Gunicorn 21.2.0 - WSGI æœåŠ¡å™¨ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰

**æ•°æ®å­˜å‚¨ï¼š**
- SQLite - ç”¨æˆ·æ•°æ®
- æ–‡ä»¶ç³»ç»Ÿ - ä¸Šä¼ æ–‡ä»¶ã€æ—¥å¿—

### ä»£ç è§„èŒƒ

- **Python**: PEP 8
- **JavaScript**: ESLint Standard
- **æäº¤ä¿¡æ¯**: `[ç±»å‹] ç®€çŸ­æè¿°`

### å¼€å‘æµç¨‹

```bash
# 1. Fork é¡¹ç›®
git clone https://github.com/ljk1029/tiny_agent.git

# 2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
git checkout -b feature/amazing-feature

# 3. æäº¤æ›´æ”¹
git commit -m '[Feature] Add some amazing feature'

# 4. æ¨é€åˆ°åˆ†æ”¯
git push origin feature/amazing-feature

# 5. æäº¤ Pull Request
```

---

## âš™ï¸ é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡

åˆ›å»º `.env` æ–‡ä»¶ï¼ˆå¯ä» `.env.example` å¤åˆ¶ï¼‰ï¼š

```bash
# Flask é…ç½®
SECRET_KEY=your-super-secret-key-change-this
FLASK_ENV=production

# AI æœåŠ¡é…ç½®ï¼ˆå¯é€‰ï¼‰
OPENAI_API_KEY=sk-xxxxxxxxxxxxx
CLAUDE_API_KEY=sk-ant-xxxxxxxxxxxxx

# æ•°æ®åº“é…ç½®ï¼ˆå¯é€‰ï¼Œé»˜è®¤ SQLiteï¼‰
# DATABASE_URL=postgresql://user:password@localhost/dbname

# åº”ç”¨é…ç½®
MAX_CONTENT_LENGTH=16777216  # 16MB
LOG_LEVEL=INFO
```

### æ”¯æŒçš„æ–‡ä»¶æ ¼å¼

| ç±»å‹ | æ‰©å±•å | å¤§å°é™åˆ¶ |
|------|--------|----------|
| æ–‡æ¡£ | `.pdf`, `.docx`, `.txt` | 16MB |
| æ•°æ® | `.csv`, `.xlsx` | 16MB |
| å›¾ç‰‡ | `.png`, `.jpg`, `.jpeg` | 16MB |
| æ—¥å¿— | `.log` | 16MB |

### å®‰å…¨å‘½ä»¤åˆ—è¡¨

ç®¡ç†å‘˜å¯æ‰§è¡Œçš„é¢„å®šä¹‰å®‰å…¨å‘½ä»¤ï¼š

| å‘½ä»¤ | åŠŸèƒ½ | è¯´æ˜ |
|------|------|------|
| `system_info` | ç³»ç»Ÿä¿¡æ¯ | æ˜¾ç¤ºæ“ä½œç³»ç»Ÿå†…æ ¸ä¿¡æ¯ |
| `disk_usage` | ç£ç›˜ä½¿ç”¨ | æ˜¾ç¤ºæ ¹åˆ†åŒºä½¿ç”¨æƒ…å†µ |
| `memory_usage` | å†…å­˜ä½¿ç”¨ | æ˜¾ç¤ºå†…å­˜ä½¿ç”¨æƒ…å†µ |
| `cpu_load` | CPU è´Ÿè½½ | æ˜¾ç¤ºå½“å‰ CPU è´Ÿè½½ |
| `list_services` | è¿è¡ŒæœåŠ¡ | åˆ—å‡ºè¿è¡Œä¸­çš„ç³»ç»ŸæœåŠ¡ |
| `check_network` | ç½‘ç»œè¿æ¥ | æ˜¾ç¤ºæ´»åŠ¨ç½‘ç»œè¿æ¥ |
| `list_files` | ä¸Šä¼ æ–‡ä»¶ | åˆ—å‡ºæœ€è¿‘ä¸Šä¼ çš„æ–‡ä»¶ |

---

## ğŸ”’ é»˜è®¤è´¦å·

**âš ï¸ é‡è¦æç¤ºï¼š**

é¦–æ¬¡éƒ¨ç½²åï¼Œè¯·ç«‹å³ä½¿ç”¨é»˜è®¤è´¦å·ç™»å½•å¹¶ä¿®æ”¹å¯†ç ï¼

| é¡¹ç›® | å€¼ |
|------|------|
| ç”¨æˆ·å | `admin` |
| å¯†ç  | `admin_pw_123` |
| è§’è‰² | ç®¡ç†å‘˜ |

**ä¿®æ”¹å¯†ç æ­¥éª¤ï¼š**
1. ä½¿ç”¨é»˜è®¤è´¦å·ç™»å½•
2. è®¿é—®ä¸ªäººä¸­å¿ƒ
3. ä¿®æ”¹ä¸ºå¼ºå¯†ç ï¼ˆè‡³å°‘ 8 ä½ï¼ŒåŒ…å«å­—æ¯ã€æ•°å­—ã€ç‰¹æ®Šå­—ç¬¦ï¼‰

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- ğŸ“– [æ¡†æ¶æ–‡æ¡£](framework.md) - è¯¦ç»†æŠ€æœ¯æ¶æ„å’Œè®¾è®¡è¯´æ˜
- ğŸš€ [éƒ¨ç½²æ–‡æ¡£](deploy/README.md) - Docker éƒ¨ç½²å®Œæ•´æŒ‡å—
- âš¡ [å¿«é€Ÿå¼€å§‹](deploy/QUICKSTART.md) - 5åˆ†é’Ÿå¿«é€Ÿéƒ¨ç½²
- ğŸ—ï¸ [æ¶æ„è®¾è®¡](deploy/ARCHITECTURE.md) - ç³»ç»Ÿæ¶æ„å›¾å’Œæµç¨‹
- âœ… [æ£€æŸ¥æ¸…å•](deploy/CHECKLIST.md) - ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²æ¸…å•

---

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸€ä¸ª â­ Starï¼

---

## ğŸ“„ è®¸å¯è¯

[MIT License](LICENSE)

---

## ğŸ“§ è”ç³»æ–¹å¼

- **GitHub**: [@ljk1029](https://github.com/ljk1029)
- **é¡¹ç›®åœ°å€**: [tiny_agent](https://github.com/ljk1029/tiny_agent)
- **é—®é¢˜åé¦ˆ**: [Issues](https://github.com/ljk1029/tiny_agent/issues)

---

<div align="center">
Made with â¤ï¸ by ljk1029
</div>


